# Configuración para servidor Donweb (detodoya.com / mismo VPS)
# Perfil: --spring.profiles.active=donweb

spring.application.name=Mattfuncional

# Escuchar en todas las interfaces para acceso externo
server.port=8081
server.address=0.0.0.0

# Base de datos MySQL en el servidor (crear BD y usuario; ver Documentacion/servidor)
spring.datasource.url=jdbc:mysql://localhost:3306/mattfuncional?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=${MATT_DB_USER:mattfuncional_user}
spring.datasource.password=${MATT_DB_PASSWORD:}

# JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# Logging
logging.level.org.springframework.web=WARN
logging.level.com.mattfuncional=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN

# Archivos subidos (ruta en servidor Donweb - junto al JAR para que exista tras el deploy)
# Crear con: mkdir -p /root/mattfuncional/uploads (o el directorio donde corre el JAR)
mattfuncional.uploads.dir=/root/mattfuncional/uploads
mattfuncional.uploads.ejercicios=ejercicios
mattfuncional.uploads.base-url=/img

# Producción: sin stacktrace en errores
server.error.include-stacktrace=never
server.error.include-message=never

# DevTools desactivado en servidor
spring.devtools.restart.enabled=false
